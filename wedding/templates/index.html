<!DOCTYPE html>
<html class="no-js">
	<head>
	<meta charset="utf-8">
	
	<title>Manasa & Kishan</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link href='https://fonts.googleapis.com/css?family=Work+Sans:400,300,600,400italic,700' rel='stylesheet' type='text/css'>
	<link href="https://fonts.googleapis.com/css?family=Sacramento" rel="stylesheet">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
	
	<!-- Animate.css -->
	<link rel="stylesheet" href="static/css/animate.css">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" href="static/css/icomoon.css">
	<!-- Bootstrap  -->
	<link rel="stylesheet" href="static/css/bootstrap.css">

	<!-- Magnific Popup -->
	<link rel="stylesheet" href="static/css/magnific-popup.css">

	<!-- Owl Carousel  -->
	<link rel="stylesheet" href="static/css/owl.carousel.min.css">
	<link rel="stylesheet" href="static/css/owl.theme.default.min.css">

	<!-- Theme style  -->
	<link rel="stylesheet" href="static/css/style.css">

	<!-- Modernizr JS -->
	<script src="static/js/modernizr-2.6.2.min.js"></script>


	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-YR55CTMCDZ"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'G-YR55CTMCDZ');
	</script>

	</head>
	<body>
		
	<!-- <div class="fh5co-loader"></div> -->
	
	<div id="page">
    
	<header id="fh5co-header" class="fh5co-cover" role="banner" style="background-image:url(static/images/both_e-min.jpg); background-size: cover; background-color:  #fff7e6;" data-stellar-background-ratio="0.5">
		<div class="overlay"></div>
		<div class="container">
			<div class="row">
				<div class="col-md-8 col-md-offset-2 text-center">
					<div class="display-t">
						<div class="display-tc animate-box" data-animate-effect="fadeIn">
							<h1 style="padding-top: 50px;">Manasa &amp; Kishan</h1>
                            
							<h2 style="padding-top: 100px;">We Are Getting Married!!</h2>
							<div class="simply-countdown simply-countdown-one"></div>
							<p><a href="#fh5co-started" class="btn btn-default btn-sm" style="font-size:20px;" >RSVP</a></p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</header>

	<div id="fh5co-couple">
		<div class="container">
			<div class="row">
				<div class="col-md-8 col-md-offset-2 text-center fh5co-heading animate-box">
					<h2>Hello!</h2>
					<h3>June 20th, 2021 Udupi, India</h3>
					<p>We invite you to celebrate with us!</p>
				</div>
			</div>
			<div class="couple-wrap animate-box">
				<div class="couple-half">
					<div class="groom">
						<img src="static/images/kishan_e.jpg" alt="groom" class="img-responsive">
					</div>
					<div class="desc-groom">
						<h3>Kishan Parshotam</h3>
						<p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove</p>
					</div>
				</div>
				<p class="heart text-center"><i class="icon-heart2"></i></p>
				<div class="couple-half">
					<div class="bride">
						<img src="static/images/manasa-min.jpg" alt="groom" class="img-responsive">
					</div>
					<div class="desc-bride">
						<h3>Manasa Bhat</h3>
						<p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove</p>
					</div>
				</div>
			</div>
		</div>
	</div>


	<div id="fh5co-gallery" class="fh5co-section-gray">
		<div class="container">
			<div class="row">
				<div class="col-md-8 col-md-offset-2 text-center fh5co-heading animate-box">
					<span>We have Fun</span>
					<h2>Our Memories</h2>
					<p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts.</p>
				</div>
			</div>
		</div>
        <div class="row">
            <div class="col-md-10 col-md-offset-1">
                <img src="static/images/us.jpg" style="height: 80%; width: 100%; object-fit: contain;">
            </div>
        </div>
	</div>


	
	<div id="fh5co-started" class="fh5co-bg" style="background-image:url(static/images/img_bg_3.jpg);">
		<div class="overlay"></div>
		<div class="container">
			<div class="row animate-box">
				<div class="col-md-8 col-md-offset-2 text-center fh5co-heading">
					<h2>Are You Attending?</h2>
					<p>Enter your personal code to see more information and notify us.</p>
				</div>
			</div>
			<div class="row animate-box">
				<div class="col-md-10 col-md-offset-1">					
					<div class="col-md-4 col-sm-4 col-md-offset-2">
						<div class="form-group" id="div-code-input">
							<label for="name" class="sr-only">Code</label>
							<input type="name" class="form-control" id="code" name="code" placeholder="Code">							
						</div>
					</div>
					<div class="col-md-4 col-sm-4">
						<button id="code-button" class="btn btn-default btn-block">Tell me more</button>
					</div>					
				</div>
			</div>
		</div>
	</div>

	<div id="events">
		{% if valid_code %}
		<div id="fh5co-event" class="fh5co-bg" style="background-color: #afbec5; height:auto; margin-top: 60px;">
			<div class="overlay"></div>
			<div class="container">
				<div class="row" >
					<div class="col-md-8 col-md-offset-2 text-center fh5co-heading" id="events-header">
						<span>Our Special Events</span>
						<h2>Wedding Events</h2>
					</div>
				</div>
				<div class="row">
					<div class="display-t">
						<div class="display-tc">

							{% if event_dict.invited_haldi %}
							<div class="col-md-10 col-md-offset-1" >
								<div class="col-md-12 col-sm-12 text-center">
									<div class="event-wrap">
										<h3>HALDI</h3>
										<div class="event-col">
											<i class="icon-clock"></i>
											<span>4:00 PM</span>
											<span>18th</span>
										</div>
										<div class="event-col">
											<i class="fas fa-map-marker-alt"></i>
											<span>undisclosed</span>
											<span>location</span>
										</div>
										<div class="event-col">
											<i class="fas fa-tshirt"></i>
											<span>x</span>
											<span>y</span>
										</div>
										<p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean.</p>
                                        
                                        <div class='attending col-md-10 col-md-offset-1'>
                                            <hr class="solid">
                                            <h3>Who is attending?</h3>
											{% for guest in family_list %}
                                                <div class="col-md-5" style="color:white;">
                                                    {{guest.name}}
                                                </div>       
                                                <div class="col-md-5" style="color: white;">
                                                    <!-- <input class="user-check" id="invited_haldi:{{ guest.id }}" type="checkbox" {%if guest.attending_haldi%} checked {% endif %} style="width: 100px;"> -->
													No
													<label class="switch">
														<input class="user-check" id="invited_haldi:{{ guest.id }}" type="checkbox" {%if guest.attending_haldi%} checked {% endif %}>
														<span class="slider round"></span>
													  </label>
													Yes
                                                </div>
                                                <br/>                  
                                            {% endfor %}								
                                        </div>
									</div>                                    
								</div>                                                               
							</div>
							{% endif %}							
							
							{% if event_dict.invited_mehendi %}
							<div class="col-md-10 col-md-offset-1" style="margin-top: 60px;">
								<div class="col-md-12 col-sm-12 text-center">
									<div class="event-wrap">
										<h3>MEHENDI Party</h3>
										<div class="event-col">
											<i class="icon-clock"></i>
											<span>4:00 PM</span>
											<span>18th</span>
										</div>
										<div class="event-col">
											<i class="fas fa-map-marker-alt"></i>
											<span>undisclosed</span>
											<span>location</span>
										</div>
										<div class="event-col">
											<i class="fas fa-tshirt"></i>
											<span>x</span>
											<span>y</span>
										</div>                              
										<p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean.</p>

                                        <div class='attending col-md-10 col-md-offset-1'>
                                            <hr class="solid">
                                            <h3>Who is attending?</h3>
                                            {% for guest in family_list %}
                                                <div class="col-md-5" style="color:white;">
                                                    {{guest.name}}
                                                </div>       
                                                <div class="col-md-5" style="color: white;">
                                                    <!-- <input class="user-check" id="invited_mehendi:{{ guest.id }}" type="checkbox" {%if guest.attending_mehendi%} checked {% endif %} style="width: 100px;"> -->
													No
													<label class="switch">
														<input class="user-check" id="invited_mehendi:{{ guest.id }}" type="checkbox" {%if guest.attending_mehendi%} checked {% endif %}>
														<span class="slider round"></span>
													  </label>
													Yes
                                                </div>
                                                <br/>                  
                                            {% endfor %}
                                        </div>

									</div>
								</div>                            
							</div>
							{% endif %}
							{% if event_dict.invited_pre_wedding_party %}
							<div class="col-md-10 col-md-offset-1" style="margin-top: 60px;">
								<div class="col-md-12 col-sm-12 text-center">
									<div class="event-wrap">
										<h3>PRE WEDDING PARTY</h3>
										<div class="event-col">
											<i class="icon-clock"></i>
											<span>4:00 PM</span>
											<span>18th</span>
										</div>
										<div class="event-col">
											<i class="fas fa-map-marker-alt"></i>
											<span>undisclosed</span>
											<span>location</span>
										</div>
										<div class="event-col">
											<i class="fas fa-tshirt"></i>
											<span>x</span>
											<span>y</span>
										</div>
										<p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean.</p>

                                        <div class='attending col-md-10 col-md-offset-1'>
                                            <hr class="solid">
                                            <h3>Who is attending?</h3>
                                            {% for guest in family_list %}
                                                <div class="col-md-5" style="color:white;">
                                                    {{guest.name}}
                                                </div>       
                                                <div class="col-md-5" style="color: white;">
                                                    <!-- <input class="user-check" id="invited_pre_wedding_party:{{ guest.id }}" type="checkbox" {%if guest.attending_pre_wedding_party%} checked {% endif %} style="width: 100px;"> -->
													No
													<label class="switch">
														<input class="user-check" id="invited_pre_wedding_party:{{ guest.id }}" type="checkbox" {%if guest.attending_pre_wedding_party%} checked {% endif %}>
														<span class="slider round"></span>
													  </label>
													Yes
                                                </div>
                                                <br/>                  
                                            {% endfor %}
                                        </div>

									</div>
								</div>
							</div>
							{% endif %}
							
							{% if event_dict.invited_wedding %}
							<div class="col-md-10 col-md-offset-1" style="margin-top: 60px;">
								<div class="col-md-12 col-sm-12 text-center">
									<div class="event-wrap">
										<h3>Wedding Party</h3>
										<div class="event-col">
											<i class="icon-clock"></i>
											<span>4:00 PM</span>
											<span>18th</span>
										</div>
										<div class="event-col">
											<i class="fas fa-map-marker-alt"></i>
											<span>undisclosed</span>
											<span>location</span>
										</div>
										<div class="event-col">
											<i class="fas fa-tshirt"></i>
											<span>x</span>
											<span>y</span>
										</div>
										<p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean.</p>

                                        <div class='attending col-md-10 col-md-offset-1'>
                                            <hr class="solid">
                                            <h3>Who is attending?</h3>
                                            {% for guest in family_list %}
                                                <div class="col-md-5" style="color:white;">
                                                    {{guest.name}}
                                                </div>       
                                                <div class="col-md-5" style="color: white;">
                                                    <!-- <input class="user-check" id="invited_wedding:{{ guest.id }}" type="checkbox" {%if guest.attending_wedding%} checked {% endif %} style="width: 100px;"> -->
													No
													<label class="switch">
														<input class="user-check" id="invited_wedding:{{ guest.id }}" type="checkbox" {%if guest.attending_wedding%} checked {% endif %}>
														<span class="slider round"></span>
													  </label>
													Yes
                                                </div>
                                                <br/>                  
                                            {% endfor %}
                                        </div>

									</div>
								</div>                          
							</div>							 							
							{% endif %}
							<div class="col-md-10 col-md-offset-1" style="margin-top: 60px;">
								<div class="col-md-12 col-sm-12 text-center">									
									<div class="event-wrap">
										<h3>Comments</h3>
										<textarea placeholder="Dietary restrictions? Need help with travel arrangements?" id="comment-box" style="width: 100%; height: 80px; margin-top: 30px; margin-bottom: 30px; font-size: 16px;">{%if family_comment%}{{family_comment}}{%endif%}</textarea>
										<button id="rsvp-button" class="btn btn-default btn-block" onclick="post_rsvp()" style="margin:auto; width:150px; height:60px; font-size: 30px;">RSVP</button>
										<p id="success_rsvp"></p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>			
		</div>
		{% endif %}
	</div>
    
	<div class="gototop js-top">
		<a href="#" class="js-gotop"><i class="icon-arrow-up"></i></a>
	</div>
	
	<!-- jQuery -->
	<script src="static/js/jquery.min.js"></script>
	<!-- jQuery Easing -->
	<script src="static/js/jquery.easing.1.3.js"></script>
	<!-- Bootstrap -->
	<script src="static/js/bootstrap.min.js"></script>
	<!-- Waypoints -->
	<script src="static/js/jquery.waypoints.min.js"></script>
	<!-- Carousel -->
	<script src="static/js/owl.carousel.min.js"></script>
	<!-- countTo -->
	<script src="static/js/jquery.countTo.js"></script>

	<!-- Stellar -->
	<script src="static/js/jquery.stellar.min.js"></script>
	<!-- Magnific Popup -->
	<script src="static/js/jquery.magnific-popup.min.js"></script>
	<script src="static/js/magnific-popup-options.js"></script>

	<!-- // <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.js"></script> -->
	<script src="static/js/simplyCountdown.js"></script>
	<!-- Main -->
	<script src="static/js/main.js"></script>

	<script>
    var d = new Date(new Date('June 20, 2021').getTime());

    // default example
    simplyCountdown('.simply-countdown-one', {
        year: d.getFullYear(),
        month: d.getMonth() + 1,
        day: d.getDate()
    });

    //jQuery example
    $('#simply-countdown-losange').simplyCountdown({
        year: d.getFullYear(),
        month: d.getMonth() + 1,
        day: d.getDate(),
        enableUtc: false
    });

</script>


<script> 
// While typing in code textbox, if enter key is pressed , click the TellMeMore button
var code_input = document.getElementById("code");
code_input.addEventListener("keyup", function(event) {
	if (event.keyCode === 13) {
		event.preventDefault();
		document.getElementById("code-button").click();
	}
});


document.getElementById("code-button").addEventListener("click", async () => {
	var data = new FormData();
	data.append("csrfmiddlewaretoken",'{{ csrf_token }}');

	// read the user code
	const code = document.getElementById("code").value;
	data.append("code", code);
	
	
	// Ajax request
	var xhr = new XMLHttpRequest();
     xhr.open("POST", "/validatecode");
     xhr.onload = function () {
       if (xhr.readyState === xhr.DONE) {
		// If code is valid
           if (xhr.status === 200) {

			// Remove error message if its there
			var code_error_message = document.getElementById('div-code-error');
			if(code_error_message !== null){
				code_error_message.remove();
			}

			// Show events
			var parser = new DOMParser();
			var htmlDoc = parser.parseFromString(xhr.responseText, 'text/html');
			document.getElementById("events").innerHTML = htmlDoc.getElementById("events").innerHTML;
			document.getElementById("events-header").scrollIntoView();			
		   }

			// Handle 404 - code not valid and show error message    
		   else if (xhr.status === 404){
			var code_error_message = document.getElementById('div-code-error');
			if(code_error_message === null){
				document.getElementById("div-code-input").insertAdjacentHTML("beforeend",'<div id="div-code-error"> <h4 style="color: rgba(255, 0, 157, 0.966);">Please enter a valid code</h4> </div>');
			}
		   }
		}
	};
	xhr.send(data);
}
)
</script>

<script>
function post_rsvp() {
	var data = new FormData();
	data.append("csrfmiddlewaretoken",'{{ csrf_token }}');

	// read comment
	var comment = document.getElementById("comment-box").value;
	data.append("comment", comment);

	var checkboxes = document.querySelectorAll(".user-check");
	
	checkboxes.forEach(function(checkbox) {
			data.append(checkbox.id, checkbox.checked);
	});


	// Ajax request
	var xhr = new XMLHttpRequest();
		xhr.open("POST", "/write_rsvp_data");
		xhr.onload = function () {
		if (xhr.readyState === xhr.DONE) {
			if (xhr.status === 200) {
				document.getElementById("rsvp-button").style.color = "#F14E95";
				document.getElementById("success_rsvp").innerHTML = "<br> Got it! Your RSVP has arrived safely! <br> P.S. You can update your information anytime before the deadline.";
			}
		}
	};
	xhr.send(data);
}

</script>

</body>
</html>

